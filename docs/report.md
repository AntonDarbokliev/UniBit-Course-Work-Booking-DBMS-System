# Сценарии за използване на системата за резервации на заседателни зали

## 1. Създаване на резервация за среща

**Актьор:** Член на организация

**Описание:** Член на организацията иска да резервира заседателна зала за предстояща среща с колеги.

**Стъпки:**
1. Членът влиза в системата
2. Избира желана дата и час за срещата
3. Преглежда наличните заседателни зали за избрания период
4. Избира подходяща зала според нуждите (оборудване, капацитет)
5. Добавя участници от организацията
6. Потвърждава резервацията

---

## 2. Преглед на налични удобства в заседателна зала

**Актьор:** Член на организация

**Описание:** Преди да направи резервация, членът иска да провери какви удобства (проектор, видеоконферентна система, бяла дъска) са налични в дадена зала.

**Стъпки:**
1. Членът избира конкретна заседателна зала
2. Системата показва списък с всички налични удобства в залата
3. Членът преценява дали залата отговаря на нуждите за планираната среща

---

## 3. Отмяна на съществуваща резервация

**Актьор:** Създател на резервация

**Описание:** Членът, който е създал резервация, трябва да я отмени поради промяна в плановете.

**Стъпки:**
1. Членът влиза в системата
2. Преглежда своите активни резервации
3. Избира резервацията, която иска да отмени
4. Потвърждава отмяната
5. Системата освобождава залата за избрания период

---

## 4. Добавяне на нова заседателна зала към организация

**Актьор:** Администратор на организация

**Описание:** Организацията разполага с нова заседателна зала и иска да я добави в системата за резервации.

**Стъпки:**
1. Администраторът влиза в системата
2. Избира опция за добавяне на нова зала
3. Въвежда името на залата
4. Задава работно време на залата (от-до)
5. Добавя наличните удобства в залата
6. Запазва новата зала в системата

---

## 5. Преглед на график за заетост на зала

**Актьор:** Член на организация

**Описание:** Член иска да види кога дадена заседателна зала е свободна през следващата седмица, за да планира бъдещи срещи.

**Стъпки:**
1. Членът избира конкретна заседателна зала
2. Избира период за преглед (напр. следващата седмица)
3. Системата показва календар със заетите и свободните часове
4. Членът идентифицира подходящи свободни слотове за бъдещи резервации

---

# Описание на таблиците в базата данни

## ORGANIZATION
Таблица за съхранение на информация за организациите.

| Колона | Тип данни | Описание | Ограничения |
|--------|-----------|----------|-------------|
| organization_id | INTEGER | Уникален идентификатор на организацията | PRIMARY KEY |
| address | VARCHAR | Адрес на организацията | - |
| created_at | TIMESTAMP | Дата и час на създаване | - |

---

## MEMBER
Таблица за съхранение на членовете на организациите.

| Колона | Тип данни | Описание | Ограничения |
|--------|-----------|----------|-------------|
| member_id | INTEGER | Уникален идентификатор на члена | PRIMARY KEY |
| organization_id | INTEGER | Идентификатор на организацията | FK → ORGANIZATION |
| firstName | VARCHAR | Име на члена | - |
| lastName | VARCHAR | Фамилия на члена | - |
| created_at | TIMESTAMP | Дата и час на създаване | - |

---

## MEETING_ROOM
Таблица за съхранение на заседателните зали.

| Колона | Тип данни | Описание | Ограничения |
|--------|-----------|----------|-------------|
| meeting_room_id | INTEGER | Уникален идентификатор на залата | PRIMARY KEY |
| meeting_room_name | VARCHAR | Име на заседателната зала | - |
| organization_id | INTEGER | Идентификатор на организацията | FK → ORGANIZATION |
| workingFrom | TIMESTAMP | Начало на работното време | - |
| workingTo | TIMESTAMP | Край на работното време | - |

---

## BOOKING
Таблица за съхранение на резервациите.

| Колона | Тип данни | Описание | Ограничения |
|--------|-----------|----------|-------------|
| booking_id | INTEGER | Уникален идентификатор на резервацията | PRIMARY KEY |
| meeting_room_id | INTEGER | Идентификатор на заседателната зала | FK → MEETING_ROOM |
| startDate | TIMESTAMP | Начална дата и час на резервацията | - |
| endDate | TIMESTAMP | Крайна дата и час на резервацията | CHECK (endDate > startDate) |
| created_by | INTEGER | Идентификатор на създателя | FK → MEMBER |

---

## AMENITY
Таблица за съхранение на удобствата (оборудване).

| Колона | Тип данни | Описание | Ограничения |
|--------|-----------|----------|-------------|
| amenity_id | INTEGER | Уникален идентификатор на удобството | PRIMARY KEY |
| name | VARCHAR | Име на удобството | - |

---

## ROOM_AMENITY
Свързваща таблица между зали и удобства (M:N връзка).

| Колона | Тип данни | Описание | Ограничения |
|--------|-----------|----------|-------------|
| amenity_id | INTEGER | Идентификатор на удобството | PK, FK → AMENITY |
| meeting_room_id | INTEGER | Идентификатор на залата | PK, FK → MEETING_ROOM |

---

## BOOKING_PARTICIPANT
Свързваща таблица между резервации и участници (M:N връзка).

| Колона | Тип данни | Описание | Ограничения |
|--------|-----------|----------|-------------|
| member_id | INTEGER | Идентификатор на члена | PK, FK → MEMBER |
| booking_id | INTEGER | Идентификатор на резервацията | PK, FK → BOOKING |

---

# Предложени индекси за оптимизация

| Заявка | Предложен индекс | Очакван ефект |
|--------|------------------|---------------|
| Търсене на всички резервации за дадена зала в определен период | `CREATE INDEX idx_booking_room_dates ON BOOKING(meeting_room_id, startDate, endDate)` | Бързо филтриране по зала и времеви диапазон; избягване на full table scan |
| Търсене на зали по организация | `CREATE INDEX idx_room_org ON MEETING_ROOM(organization_id)` | Бързо намиране на всички зали, принадлежащи на организация |
| Търсене на удобства по зала | `CREATE INDEX idx_room_amenity_room ON ROOM_AMENITY(meeting_room_id)` | Бързо извличане на всички удобства за конкретна зала |
| Търсене на участници в резервация | `CREATE INDEX idx_participant_booking ON BOOKING_PARTICIPANT(booking_id)` | Ускорено намиране на всички участници в дадена резервация |
| Търсене на резервации по участник | `CREATE INDEX idx_participant_member ON BOOKING_PARTICIPANT(member_id)` | Бързо извличане на всички резервации, в които участва даден член |
